# WUZAPI Manager - Configurações de Exemplo
# Copie este arquivo para .env e ajuste os valores
# Para Docker, use .env.docker.example como base
# Para produção, use .env.production.example como base

# ============================================================================
# FRONTEND - Variáveis VITE_* (acessíveis no cliente)
# ============================================================================

# URL base da API WUZAPI externa
VITE_WUZAPI_BASE_URL=https://wzapi.wasend.com.br

# Token de administrador (OBRIGATÓRIO - não deixe vazio)
# Gere um token seguro e nunca commite o valor real
VITE_ADMIN_TOKEN=seu_token_admin_aqui

# NocoDB Configuration (OBRIGATÓRIO)
# Token de acesso ao NocoDB - nunca commite o valor real
VITE_NOCODB_TOKEN=seu_nocodb_token_aqui
VITE_NOCODB_BASE_URL=https://nocodb.wasend.com.br
VITE_NOCODB_PROJECT_ID=seu_project_id
VITE_NOCODB_TABLE_ID=seu_table_id

# Nome da aplicação (usado como fallback quando branding não está configurado)
VITE_APP_NAME=WhatsApp Manager

# Modo de desenvolvimento (habilita logs extras no console)
VITE_DEV_MODE=true

# API Configuration
VITE_API_TIMEOUT=30000
VITE_RATE_LIMIT_WINDOW=60000
VITE_RATE_LIMIT_MAX=100

# ============================================================================
# BACKEND - Configurações do Servidor
# ============================================================================
# NOTA: O backend usa server/.env para suas configurações
# Copie server/.env.example para server/.env

# Ambiente de execução
NODE_ENV=development

# Porta do servidor
PORT=3001

# URL da API WUZAPI externa (backend)
WUZAPI_BASE_URL=https://wzapi.wasend.com.br

# Timeout das requisições em milissegundos
REQUEST_TIMEOUT=10000

# ============================================================================
# CORS - Origens Permitidas
# ============================================================================
# Liste todas as origens permitidas separadas por vírgula
# Em produção, liste apenas os domínios reais (ex: https://app.exemplo.com)
# Em desenvolvimento, localhost é permitido automaticamente
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:4173,http://localhost:8080

# Frontend CORS (para requisições do cliente)
VITE_CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================================================
# SUPABASE - Banco de Dados PostgreSQL
# ============================================================================

# URL do projeto Supabase
VITE_SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_URL=https://seu-projeto.supabase.co

# Chave anônima (pública) - usada no frontend
VITE_SUPABASE_ANON_KEY=sua-chave-anonima-aqui
SUPABASE_ANON_KEY=sua-chave-anonima-aqui

# Chave de serviço (privada) - APENAS backend, NUNCA expor no frontend
SUPABASE_SERVICE_ROLE_KEY=sua-chave-de-servico-aqui

# ============================================================================
# STRIPE - Sistema de Pagamentos
# ============================================================================

# Chave secreta da API Stripe (APENAS backend)
STRIPE_SECRET_KEY=sk_test_sua_chave_aqui

# Segredo do webhook Stripe
STRIPE_WEBHOOK_SECRET=whsec_seu_segredo_aqui

# Chave de criptografia para armazenar chaves Stripe no banco
# IMPORTANTE: Gerar nova chave com: openssl rand -base64 32
# Se não definida, usa SESSION_SECRET como fallback
STRIPE_ENCRYPTION_KEY=

# ============================================================================
# SESSÃO E AUTENTICAÇÃO
# ============================================================================

# Chave secreta para assinatura de cookies de sessão
# IMPORTANTE: Gerar nova chave com: openssl rand -base64 32
SESSION_SECRET=your-secret-key-here-generate-with-openssl

# ============================================================================
# LOGGING
# ============================================================================

# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# ============================================================================
# REDIS - Cache Layer
# ============================================================================

# Host do Redis (use 'redis' para Docker, 'localhost' para desenvolvimento local)
REDIS_HOST=localhost

# Porta do Redis
REDIS_PORT=6379

# Senha do Redis (OBRIGATÓRIO em produção)
REDIS_PASSWORD=

# Database do Redis (0-15)
REDIS_DB=0

# TTL padrão do cache em segundos (5 minutos)
REDIS_CACHE_TTL=300

# Habilitar cache Redis (true/false)
REDIS_ENABLED=true

# ============================================================================
# CHAT REALTIME - Configuração do Provider
# ============================================================================
# Provider de realtime para o chat (supabase ou socketio)
# - supabase: Usa Supabase Realtime (recomendado, mais rápido)
# - socketio: Usa Socket.IO (legado, para compatibilidade)
VITE_CHAT_REALTIME_PROVIDER=supabase
CHAT_REALTIME_PROVIDER=supabase

# ============================================================================
# COMANDOS DE DESENVOLVIMENTO
# ============================================================================
# npm run dev:full    - Frontend + Backend (recomendado)
# npm run dev         - Apenas Frontend (porta 5173)
# npm run server:dev  - Apenas Backend (porta 3001)
# npm run test:run    - Executar todos os testes

# ============================================================================
# OBSERVABILIDADE - OpenTelemetry & Métricas (v1.6+)
# ============================================================================

# Habilitar OpenTelemetry tracing (true/false)
OTEL_ENABLED=false

# Endpoint do exportador OTLP (Jaeger)
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318/v1/traces

# Nome do serviço para tracing
OTEL_SERVICE_NAME=wuzapi-manager

# ============================================================================
# ALERTAS - Sistema de Notificações (v1.6+)
# ============================================================================

# URL do webhook para alertas (Discord/Slack)
ALERT_WEBHOOK_URL=

# Habilitar alertas por email (true/false)
ALERT_EMAIL_ENABLED=false

# ============================================================================
# RATE LIMITING - Limites por Plano (v1.6+)
# ============================================================================

# Limite de requisições por minuto por plano
RATE_LIMIT_FREE=100
RATE_LIMIT_STARTER=200
RATE_LIMIT_PRO=500
RATE_LIMIT_BUSINESS=1000
RATE_LIMIT_ENTERPRISE=2000

# ============================================================================
# GRAFANA - Dashboard de Métricas (v1.6+)
# ============================================================================

# Senha do admin do Grafana
GRAFANA_PASSWORD=admin
