# WUZAPI Manager - Configurações de Exemplo
# Copie este arquivo para .env e ajuste os valores
# Para Docker, use .env.docker.example como base
# Para produção, use .env.production.example como base

# ============================================================================
# FRONTEND - Variáveis VITE_* (acessíveis no cliente)
# ============================================================================

# URL base da API WUZAPI externa
VITE_WUZAPI_BASE_URL=https://wzapi.wasend.com.br

# Token de administrador (OBRIGATÓRIO - não deixe vazio)
# Gere um token seguro e nunca commite o valor real
VITE_ADMIN_TOKEN=seu_token_admin_aqui

# NocoDB Configuration (OBRIGATÓRIO)
# Token de acesso ao NocoDB - nunca commite o valor real
VITE_NOCODB_TOKEN=seu_nocodb_token_aqui
VITE_NOCODB_BASE_URL=https://nocodb.wasend.com.br
VITE_NOCODB_PROJECT_ID=seu_project_id
VITE_NOCODB_TABLE_ID=seu_table_id

# Nome da aplicação (usado como fallback quando branding não está configurado)
VITE_APP_NAME=WhatsApp Manager

# Modo de desenvolvimento (habilita logs extras no console)
VITE_DEV_MODE=true

# API Configuration
VITE_API_TIMEOUT=30000
VITE_RATE_LIMIT_WINDOW=60000
VITE_RATE_LIMIT_MAX=100

# ============================================================================
# BACKEND - Configurações do Servidor
# ============================================================================
# NOTA: O backend usa server/.env para suas configurações
# Copie server/.env.example para server/.env

# Ambiente de execução
NODE_ENV=development

# Porta do servidor
PORT=3001

# URL da API WUZAPI externa (backend)
WUZAPI_BASE_URL=https://wzapi.wasend.com.br

# Timeout das requisições em milissegundos
REQUEST_TIMEOUT=10000

# ============================================================================
# CORS - Origens Permitidas
# ============================================================================
# Liste todas as origens permitidas separadas por vírgula
# Em produção, liste apenas os domínios reais (ex: https://app.exemplo.com)
# Em desenvolvimento, localhost é permitido automaticamente
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:4173,http://localhost:8080

# Frontend CORS (para requisições do cliente)
VITE_CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================================================
# SUPABASE - Banco de Dados PostgreSQL
# ============================================================================

# URL do projeto Supabase
VITE_SUPABASE_URL=https://seu-projeto.supabase.co
SUPABASE_URL=https://seu-projeto.supabase.co

# Chave anônima (pública) - usada no frontend
VITE_SUPABASE_ANON_KEY=sua-chave-anonima-aqui
SUPABASE_ANON_KEY=sua-chave-anonima-aqui

# Chave de serviço (privada) - APENAS backend, NUNCA expor no frontend
SUPABASE_SERVICE_ROLE_KEY=sua-chave-de-servico-aqui

# ============================================================================
# BANCO DE DADOS SQLITE (LEGADO - para migração)
# ============================================================================

# Caminho do arquivo do banco de dados
# Desenvolvimento: ../data/wuzapi.db (relativo a server/)
# Docker/Produção: /app/data/wuzapi.db
SQLITE_DB_PATH=../data/wuzapi.db

# Habilitar WAL mode (OBRIGATÓRIO para performance)
SQLITE_WAL_MODE=true

# Timeout do SQLite em milissegundos
SQLITE_TIMEOUT=5000

# Tamanho do cache SQLite (em páginas)
SQLITE_CACHE_SIZE=2000

# Modo de sincronização (NORMAL, FULL, OFF)
SQLITE_SYNCHRONOUS=NORMAL

# Backend de banco de dados ativo (sqlite ou supabase)
# Durante migração, use 'sqlite'. Após migração completa, use 'supabase'
DATABASE_BACKEND=sqlite

# ============================================================================
# SESSÃO E AUTENTICAÇÃO
# ============================================================================

# Chave secreta para assinatura de cookies de sessão
# IMPORTANTE: Gerar nova chave com: openssl rand -base64 32
SESSION_SECRET=your-secret-key-here-generate-with-openssl

# ============================================================================
# LOGGING
# ============================================================================

# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# ============================================================================
# COMANDOS DE DESENVOLVIMENTO
# ============================================================================
# npm run dev:full    - Frontend + Backend (recomendado)
# npm run dev         - Apenas Frontend (porta 5173)
# npm run server:dev  - Apenas Backend (porta 3001)
# npm run test:run    - Executar todos os testes
